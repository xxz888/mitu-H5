{"version":3,"sources":[null,"webpack:///C:/Users/Administrator/Desktop/dc2021-11-29/dc/components/cmd-circle/cmd-circle.vue?2756","webpack:///C:/Users/Administrator/Desktop/dc2021-11-29/dc/components/cmd-circle/cmd-circle.vue?d4c3","webpack:///C:/Users/Administrator/Desktop/dc2021-11-29/dc/components/cmd-circle/cmd-circle.vue?9ba7","uni-app:///components/cmd-circle/cmd-circle.vue","webpack:///C:/Users/Administrator/Desktop/dc2021-11-29/dc/components/cmd-circle/cmd-circle.vue?a949","webpack:///C:/Users/Administrator/Desktop/dc2021-11-29/dc/components/cmd-circle/cmd-circle.vue?4e38"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAumB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACO3nB;;;;;;;;;;;;;;;;;;;;AAoBA;AACA,oBADA;;AAGA;AACA;AACA;AACA,kBADA;AAEA,8BAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,uBALA,EAPA;;AAcA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,gBALA,EAfA;;AAsBA;AACA;AACA,mBADA;AAEA,mBAFA,EAvBA;;AA2BA;AACA;AACA,kBADA;AAEA,wBAFA,EA5BA;;AAgCA;AACA;AACA,kBADA;AAEA,iBAFA,EAjCA;;AAqCA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,uBALA,EAtCA;;AA6CA;AACA;AACA,kBADA;AAEA,gBAFA,EA9CA;;AAkDA;AACA;AACA,kBADA;AAEA,iBAFA,EAnDA;;AAuDA;AACA;AACA,kBADA;AAEA,wBAFA,EAxDA;;AA4DA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,sBALA,EA7DA;;AAoEA;AACA;AACA,kBADA;AAEA,iBAFA,EArEA;;AAyEA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,kBALA,EA1EA;;AAiFA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA;AAKA,oBALA,EAlFA,EAHA;;;;AA8FA,MA9FA,kBA8FA;AACA;AACA;AACA,aAFA;AAGA;AACA,kBAJA;;AAMA,GArGA;;AAuGA;AACA;AACA,kBAFA,4BAEA;AACA;AACA,gBADA;AAEA,KALA;AAMA;AACA,aAPA,uBAOA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA,4BADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA,4BADA;AAEA,oBAFA;;AAIA,gBAlBA;;AAoBA;AACA,KA9BA;AA+BA;AACA,gBAhCA,0BAgCA;AACA;AACA,KAlCA;AAmCA;AACA,kBApCA,4BAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAZA;;AAcA;AACA,KArDA,EAvGA;;;AA+JA;AACA;AACA,WAFA,mBAEA,GAFA,EAEA;AACA;AACA,KAJA,EA/JA;;;AAsKA,SAtKA,qBAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA,GA/KA;;AAiLA;AACA;AACA,cAFA,sBAEA,OAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAzBA;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/DA;AAgEA;AACA,YAjEA,oBAiEA,OAjEA,EAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxEA;AAyEA;AACA,eA1EA,yBA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtFA;AAuFA;AACA,iBAxFA,2BAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApGA,EAjLA,E;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAA03B,CAAgB,y2BAAG,EAAC,C;;;;;;;;;;;ACA94B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/cmd-circle/cmd-circle.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./cmd-circle.vue?vue&type=template&id=25efdbe4&\"\nvar renderjs\nimport script from \"./cmd-circle.vue?vue&type=script&lang=js&\"\nexport * from \"./cmd-circle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cmd-circle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/cmd-circle/cmd-circle.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cmd-circle.vue?vue&type=template&id=25efdbe4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cmd-circle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cmd-circle.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"cmd-circle\">\r\n    <canvas :canvas-id=\"cid\" :style=\"calCircleStyle\"></canvas>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  /**\r\n   * 进度圈组件  \r\n   * @description 用圈显示一个操作完成的百分比时，为用户显示该操作的当前进度和状态。  \r\n   * @tutorial https://ext.dcloud.net.cn/plugin?id=259  \r\n   * @property {String} cid 画布编号 - 默认defaultCanvas  \r\n   * @property {String} type 进度圈类型 - 圆圈形：circle、仪表盘：dashboard，默认圆圈形：circle  \r\n   * @property {Number} percent 进度圈百分比值 - 显示范围0-100 ，可能数比较大就需要自己转成百分比的值  \r\n   * @property {Boolean} show-info 进度圈进度状态信息 - 显示进度数值或状态图标，默认true  \r\n   * @property {String} font-color 进度圈文字信息颜色  \r\n   * @property {String} font-size 进度圈文字信息大小 - 默认：14  \r\n   * @property {String} status 进度圈状态 - 正常：normal、完成：success、失败：exception，默认正常：normal  \r\n   * @property {Number} stroke-width 进度圈线条宽度 - 建议在条线的宽度范围：1-50，与进度条显示宽度有关，默认：6  \r\n   * @property {String} stroke-color 进度圈的颜色 - 设置后status状态无效  \r\n   * @property {String} stroke-background 进度圈的底圈颜色 - 默认：#eeeeee  \r\n   * @property {String} stroke-shape 进度圈两端的形状 - 圆：round、方直角：square，默认圆：round  \r\n   * @property {Number} width 进度圈布宽度 - 默认80  \r\n   * @property {String} gap-degree 进度圈形缺口角度 - 可取值 0 ~ 360，仅支持类型：circle  \r\n   * @property {String} gap-position 进度圈形缺口位置 - 可取值'top', 'bottom', 'left', 'right'，仅支持类型：circle  \r\n   * @example <cmd-circle id=\"circle1\" type=\"circle\" :percent=\"75\"></cmd-circle>  \r\n   */\r\n  export default {\r\n    name: \"cmd-circle\",\r\n\r\n    props: {\r\n      // 画布编号 默认defaultCanvas\r\n      cid: {\r\n        type: String,\r\n        default: \"defaultCanvas\"\r\n      },\r\n      // 圈类型默认：circle，可选 circle dashboard\r\n      type: {\r\n        type: String,\r\n        validator: val => {\r\n          return ['circle', 'dashboard'].includes(val);\r\n        },\r\n        default: 'circle'\r\n      },\r\n      // 圈进度百分比值\r\n      percent: {\r\n        type: Number,\r\n        validator: val => {\r\n          return val >= 0 && val <= 100;\r\n        },\r\n        default: 0\r\n      },\r\n      // 圈是否显示进度数值或状态图标\r\n      showInfo: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      // 圈文字信息颜色\r\n      fontColor: {\r\n        type: String,\r\n        default: \"#595959\"\r\n      },\r\n      // 圈文字信息大小 默认14\r\n      fontSize: {\r\n        type: Number,\r\n        default: 14\r\n      },\r\n      // 圈进度状态，可选：normal success exception\r\n      status: {\r\n        type: String,\r\n        validator: val => {\r\n          return ['normal', 'success', 'exception'].includes(val);\r\n        },\r\n        default: 'normal'\r\n      },\r\n      // 圈线条宽度1-50，与width有关\r\n      strokeWidth: {\r\n        type: Number,\r\n        default: 6\r\n      },\r\n      // 圈的颜色，设置后status状态无效\r\n      strokeColor: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      // 圈的底圈颜色 默认：#eeeeee\r\n      strokeBackground: {\r\n        type: String,\r\n        default: '#eeeeee'\r\n      },\r\n      // 圈两端的形状 可选：'round', 'square'\r\n      strokeShape: {\r\n        type: String,\r\n        validator: val => {\r\n          return ['round', 'square'].includes(val);\r\n        },\r\n        default: 'round'\r\n      },\r\n      // 圈画布宽度\r\n      width: {\r\n        type: Number,\r\n        default: 80\r\n      },\r\n      // 圈缺口角度，可取值 0 ~ 360，仅支持类型：circle  \r\n      gapDegree: {\r\n        type: Number,\r\n        validator: val => {\r\n          return val >= 0 && val <= 360;\r\n        },\r\n        default: 360\r\n      },\r\n      // 圈缺口开始位置,可取值'top', 'bottom', 'left', 'right'，仅支持类型：circle  \r\n      gapPosition: {\r\n        type: String,\r\n        validator: val => {\r\n          return ['top', 'bottom', 'left', 'right'].includes(val);\r\n        },\r\n        default: 'top'\r\n      }\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        // 画布实例\r\n        ctx: {},\r\n        // 圈半径\r\n        width2px: \"\"\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      // 计算设置圈样式\r\n      calCircleStyle() {\r\n        return `width: ${this.width}px;\r\n\t\t\t\theight: ${this.width}px;`\r\n      },\r\n      // 计算圈状态\r\n      calStatus() {\r\n        let status = {}\r\n        switch (this.status) {\r\n          case 'normal':\r\n            status = {\r\n              color: \"#1890ff\",\r\n              value: 1\r\n            };\r\n            break;\r\n          case 'success':\r\n            status = {\r\n              color: \"#52c41a\",\r\n              value: 2\r\n            };\r\n            break;\r\n          case 'exception':\r\n            status = {\r\n              color: \"#f5222d\",\r\n              value: 3\r\n            };\r\n            break;\r\n        }\r\n        return status\r\n      },\r\n      // 计算圈缺口角度\r\n      calGapDegree() {\r\n        return this.gapDegree <= 0 ? 360 : this.gapDegree\r\n      },\r\n      // 计算圈缺口位置\r\n      calGapPosition() {\r\n        let gapPosition = 0\r\n        switch (this.gapPosition) {\r\n          case 'bottom':\r\n            gapPosition = 90;\r\n            break;\r\n          case 'left':\r\n            gapPosition = 180;\r\n            break;\r\n          case 'top':\r\n            gapPosition = 270;\r\n            break;\r\n          case 'right':\r\n            gapPosition = 360;\r\n            break;\r\n        }\r\n        return gapPosition\r\n      },\r\n    },\r\n\r\n    watch: {\r\n      // 监听百分比值改变\r\n      percent(val) {\r\n        this.drawStroke(val);\r\n      }\r\n    },\r\n\r\n    mounted() {\r\n      // 创建画布实例\r\n      this.ctx = uni.createCanvasContext(this.cid, this)\r\n      // upx转px 圈半径大小\r\n      this.width2px = uni.upx2px(this.width)\r\n      // 绘制初始 \r\n      this.$nextTick(() => {\r\n        this.drawStroke(this.percent)\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      // 绘制圈\r\n      drawStroke(percent) {\r\n        percent = percent >= 100 ? 100 : percent < 0 ? 0 : percent\r\n        // 圈条进度色\r\n        let color = this.strokeColor || this.calStatus.color\r\n        // 是否圈中心显示信息\r\n        if (this.showInfo) {\r\n          switch (this.calStatus.value) {\r\n            case 1:\r\n              if (percent >= 100) {\r\n                // 设置打勾\r\n                this.drawSuccess()\r\n                percent = 100\r\n                color = \"#52c41a\"\r\n              } else {\r\n                // 设置字体\r\n                this.drawText(percent)\r\n              }\r\n              break;\r\n            case 2:\r\n              // 设置打勾\r\n              this.drawSuccess()\r\n              percent = 100\r\n              color = \"#52c41a\"\r\n              break;\r\n            case 3:\r\n              // 设置打叉\r\n              this.drawException()\r\n              percent = 0\r\n              color = \"#f5222d\"\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        // 缺口\r\n        let gapPosition = this.calGapPosition\r\n        let gapDegree = this.calGapDegree\r\n        // 仪表固定\r\n        if (this.type === \"dashboard\") {\r\n          gapPosition = 135\r\n          gapDegree = 270\r\n        }\r\n        // 圈型条宽\r\n        this.ctx.setLineCap(this.strokeShape)\r\n        this.ctx.setLineWidth(this.strokeWidth)\r\n        // 位置原点\r\n        this.ctx.translate(this.width2px, this.width2px)\r\n        // 缺口方向 \r\n        this.ctx.rotate(gapPosition * Math.PI / 180)\r\n        // 圈底 \r\n        this.ctx.beginPath()\r\n        this.ctx.arc(0, 0, this.width2px - this.strokeWidth, 0, gapDegree * Math.PI / 180)\r\n        this.ctx.setStrokeStyle(this.strokeBackground)\r\n        this.ctx.stroke()\r\n        // 圈进度 \r\n        this.ctx.beginPath()\r\n        this.ctx.arc(0, 0, this.width2px - this.strokeWidth, 0, percent * gapDegree * Math.PI / 18000)\r\n        this.ctx.setStrokeStyle(color)\r\n        this.ctx.stroke()\r\n        // 绘制\r\n        this.ctx.draw()\r\n      },\r\n      // 绘制文字格式\r\n      drawText(percent) {\r\n        this.ctx.beginPath()\r\n        this.ctx.setFontSize(this.fontSize)\r\n        this.ctx.setFillStyle(this.fontColor)\r\n        this.ctx.setTextAlign('center')\r\n        this.ctx.fillText(`${percent}%`, this.width2px, this.width2px + this.fontSize / 2)\r\n        this.ctx.stroke()\r\n      },\r\n      // 绘制成功打勾\r\n      drawSuccess() {\r\n        let x = this.width2px - this.fontSize / 2\r\n        let y = this.width2px + this.fontSize / 2\r\n        this.ctx.beginPath()\r\n        this.ctx.setLineCap('round')\r\n        this.ctx.setLineWidth(this.fontSize / 4)\r\n        this.ctx.moveTo(this.width2px, y)\r\n        this.ctx.lineTo(y, x)\r\n        this.ctx.moveTo(this.width2px, y)\r\n        this.ctx.lineTo(x, this.width2px)\r\n        this.ctx.setStrokeStyle(\"#52c41a\")\r\n        this.ctx.stroke()\r\n      },\r\n      // 绘制异常打叉\r\n      drawException() {\r\n        let x = this.width2px - this.fontSize / 2\r\n        let y = this.width2px + this.fontSize / 2\r\n        this.ctx.beginPath()\r\n        this.ctx.setLineCap('round')\r\n        this.ctx.setLineWidth(this.fontSize / 4)\r\n        this.ctx.moveTo(x, x)\r\n        this.ctx.lineTo(y, y)\r\n        this.ctx.moveTo(y, x)\r\n        this.ctx.lineTo(x, y)\r\n        this.ctx.setStrokeStyle(\"#f5222d\")\r\n        this.ctx.stroke()\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .cmd-circle {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cmd-circle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cmd-circle.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1638194945889\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}