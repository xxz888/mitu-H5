(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-money-repayment-newPlan"],{"31fa":function(a,t,n){"use strict";n.r(t);var i=n("c6ee"),e=n.n(i);for(var o in i)"default"!==o&&function(a){n.d(t,a,(function(){return i[a]}))}(o);t["default"]=e.a},4852:function(a,t,n){"use strict";n.r(t);var i=n("dc0a"),e=n("31fa");for(var o in e)"default"!==o&&function(a){n.d(t,a,(function(){return e[a]}))}(o);n("fcf4");var d,c=n("f0c5"),s=Object(c["a"])(e["default"],i["b"],i["c"],!1,null,"697d93af",null,!1,i["a"],d);t["default"]=s.exports},7930:function(a,t,n){var i=n("a5a9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var e=n("4f06").default;e("024051d5",i,!0,{sourceMap:!1,shadowMode:!1})},a5a9:function(a,t,n){var i=n("24fb");t=i(!1),t.push([a.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-radio[data-v-697d93af]{zoom:.6;margin-left:%?20?%;color:#888}.bg-title[data-v-697d93af]{width:100%;height:100%;position:absolute;left:0;top:0;z-index:-1}.header[data-v-697d93af]{width:100%;position:relative;padding:%?30?%;padding-top:calc(0px + %?30?%);height:%?207?%}.header .header-title-common[data-v-697d93af]{display:flex;align-items:center;width:100%;justify-content:center;position:relative;margin-top:%?50?%}.header .header-title-common b[data-v-697d93af]{font-size:%?48?%;font-family:PingFang SC;font-weight:700;color:#f7cf9e}.header .header-title-common p[data-v-697d93af]:first-child{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-bottom:%?5?% solid #d4c09d;border-left:%?5?% solid #d4c09d;width:%?20?%;height:%?20?%;position:absolute;left:0}.header .header-title-common p[data-v-697d93af]:last-child{font-size:%?28?%;font-family:PingFang SC;font-weight:700;color:#f7cf9e;position:absolute;right:0}.main-box[data-v-697d93af]{padding:%?30?%}.main-box .card-part[data-v-697d93af]{box-shadow:0 %?8?% %?22?% %?2?% rgba(67,67,67,.13);border-radius:%?20?%}.main-box .card-detail[data-v-697d93af]{padding:%?20?%;display:flex;flex-wrap:wrap}.main-box .card-detail p[data-v-697d93af]{width:50%;margin-top:%?20?%;font-size:%?27?%;font-family:PingFang SC;font-weight:500;color:#333}.main-box .card-box[data-v-697d93af]{display:flex;position:relative;height:%?159?%;align-items:center;padding:%?20?% %?40?%}.main-box .card-box .card-bg[data-v-697d93af]{width:100%;height:100%;position:absolute;left:0;top:0;z-index:-1}.main-box .card-box .logo[data-v-697d93af]{width:%?60?%;height:%?60?%;margin-right:%?33?%}.main-box .card-box h1[data-v-697d93af]{flex:1}.main-box .card-box h1 b[data-v-697d93af]{display:flex;justify-content:space-between;font-size:%?32?%;font-family:PingFang SC;font-weight:700;color:#f7cf9e;margin-bottom:%?20?%}.main-box .card-box h1 b a[data-v-697d93af]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#f7cf9e}.main-box .card-box h1 p[data-v-697d93af]{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#f7cf9e}.btn[data-v-697d93af]{height:%?86?%;position:fixed;bottom:0;left:0;width:100%;margin:0 auto;background:linear-gradient(269deg,#d79f65,#fdd8aa);display:flex;align-items:center;justify-content:center;font-size:%?34?%;font-family:PingFang SC;font-weight:700;color:#333}ul[data-v-697d93af]{box-shadow:0 %?8?% %?22?% %?2?% rgba(67,67,67,.13);border-radius:%?20?%;margin-top:%?20?%;padding:%?30?% 0;height:%?600?%;overflow-y:scroll}ul li[data-v-697d93af]:first-child{margin-bottom:%?40?%}ul li[data-v-697d93af]{margin-bottom:%?20?%;display:flex}ul li b[data-v-697d93af]{font-size:%?33?%;font-family:PingFang SC;font-weight:700;color:#333;text-align:center}ul li b[data-v-697d93af]:nth-child(1){flex:4}ul li b[data-v-697d93af]:nth-child(2){flex:1}ul li b[data-v-697d93af]:nth-child(3){flex:2}ul li b[data-v-697d93af]:nth-child(4){flex:2}ul li p[data-v-697d93af]{font-size:%?24?%;font-family:PingFang SC;color:#888;text-align:center}ul li p[data-v-697d93af]:nth-child(1){flex:4}ul li p[data-v-697d93af]:nth-child(2){flex:1}ul li p[data-v-697d93af]:nth-child(3){flex:2}ul li p[data-v-697d93af]:nth-child(4){flex:2;color:#f9cb32}.container .modalimage[data-v-697d93af]{width:%?50?%;height:%?50?%}.container .modal-box[data-v-697d93af]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center}.container .modal-content[data-v-697d93af]{background-color:#fff;width:%?600?%;height:%?600?%;border-radius:%?10?%;position:relative}.container .modal-content .bg[data-v-697d93af]{width:100%;position:absolute;left:0;top:0;z-index:0}.container .modal-content h1[data-v-697d93af]{position:relative;z-index:1;font-size:%?43?%;font-family:Source Han Sans CN;font-weight:500;color:#fdfaf9;height:%?200?%;display:flex;align-items:center;justify-content:center;text-shadow:0 3px 3px rgba(46,46,46,.48)}.container .modal-content h4[data-v-697d93af]{position:relative;z-index:1;font-size:%?43?%;font-family:Source Han Sans CN;font-weight:500;color:#fdfaf9;height:%?100?%;display:flex;align-items:center;justify-content:center;text-shadow:0 3px 3px rgba(46,46,46,.48)}.container .modal-content .confirm-box[data-v-697d93af]{position:relative;z-index:1;display:flex;background:#fff;box-shadow:0 %?8?% %?22?% 2px rgba(67,67,67,.2);border-radius:%?20?%;width:%?500?%;height:%?350?%;margin:%?10?% auto;display:flex;flex-direction:column;align-items:center}.container .modal-content .confirm-box a[data-v-697d93af]{width:100%;height:%?350?%;font-size:%?20?%}.container .modal-content .confirm-box a p[data-v-697d93af]{display:flex;padding-top:%?10?%;padding-left:%?30?%}.container .modal-content .confirm-box a p uni-view[data-v-697d93af]{display:flex;width:50%}.container .modal-content .confirm-box uni-image[data-v-697d93af]{position:absolute;width:%?100?%;height:%?100?%;top:%?-30?%}.container .modal-content .confirm-box h2[data-v-697d93af]{color:#666;margin:%?120?% auto %?90?%;font-size:%?36?%;font-weight:400}.container .modal-content .confirm-box uni-view[data-v-697d93af]{display:flex}.container .modal-content .confirm-box uni-view uni-view[data-v-697d93af]{display:flex;align-items:center;justify-content:center;background-color:#f7f7f7;color:#f0ad4e;width:%?140?%;height:%?70?%;margin:%?120?% auto %?90?%;font-size:%?18?%}.container .modal-content .confirm-box uni-view uni-input[data-v-697d93af]{color:#666;margin:%?120?% auto %?90?%;font-size:%?30?%;font-weight:400;width:%?250?%;padding:0 %?20?%;height:%?70?%;box-sizing:border-box;background-color:#f7f7f7}.container .modal-content .confirm-box h3[data-v-697d93af]{display:flex;align-items:center;justify-content:center}.container .modal-content .confirm-box h3 p[data-v-697d93af]{font-size:%?27?%;color:#333;background:#f5f3f3;width:%?200?%;border-radius:%?5?%;text-align:center;line-height:%?60?%}.container .modal-content .confirm-box h3 p[data-v-697d93af]:last-child{background-color:#fad6a8;margin-left:%?50?%}',""]),a.exports=t},c6ee:function(a,t,n){"use strict";(function(a){var i=n("4ea4");n("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(n("7201")),o={data:function(){return{codeDesc:"获取验证码",modalShow:!1,ylhk_card:[],newPlans:[],headname:"计划详情",arrawayPay:[],preventClickCode:!1,idCard:"",smsCode:"",modalShow2:!1,showm:[],pay:1,planId:""}},components:{pickRegions:e.default},onLoad:function(a){this.getMrXyCard(),"goNewPlan"==a.type?(this.arrawayPay=uni.getStorageSync("newPlans"),this.pay=1):(this.pay=2,this.planId=a.planId,this.getPlanHhasItem(a.planId))},onShow:function(){this.ylhk_card=uni.getStorageSync("ylhk_card")},methods:{showmall:function(t){a.log(t),this.showm=this.arrawayPay.planItems[t],this.modalShow2=!0},getPlanHhasItem:function(t){var n=this,i={id:t};this.$api.api_getPlanHhasItem(i).then((function(t){a.log("api_orCard成功",t),0==t.code?n.arrawayPay=t.data:uni.showToast({title:t.message,icon:"none"})})).catch((function(t){a.log("api_orCard失败",t)}))},orTureCard:function(){var t=this,n={cardNo:t.arrawayPay.creditCardNumber};this.$api.api_orCard(n).then((function(n){a.log("api_orCard成功",n),0==n.code?t.startNewPlan():3==n.code?uni.navigateTo({url:"sendcodes"}):uni.showToast({title:n.message,icon:"none"})})).catch((function(t){a.log("api_orCard失败",t)}))},getCode:function(){var t=this,n={cardNo:t.arrawayPay.creditCardNumber};t.preventClickCode||(a.log("点击了发送验证码"),t.preventClickCode=!0,this.$api.api_orbindCard(n).then((function(n){if(a.log("点击了发送验证码",n),0==n.code&&"重复签约"==n.message)t.modalShow2=!t.modalShow2,t.startNewPlan();else if(0==n.code){uni.showToast({title:"验证码已发送"});var i=60,e=setInterval((function(){i>0?(i--,t.codeDesc="".concat(i,"s")):(t.codeDesc="发送验证码",t.preventClickCode=!1,clearInterval(e))}),1e3)}else uni.showToast({title:n.message,icon:"none"});t.preventClickCode=!1})).catch((function(n){t.preventClickCode=!1,a.log("api_sendCode失败",n),uni.showToast({title:"发送失败",icon:"none"})})))},bindCardConfirm:function(){var t=this,n={idCard:t.idCard,card:t.arrawayPay.creditCardNumber,smsCode:t.smsCode};this.$api.api_startNewPlan(n).then((function(n){a.log("余额还款确认绑卡成功",n),0==n.code?t.startNewPlan():uni.showToast({title:n.message,icon:"none"})})).catch((function(t){a.log("余额还款确认绑卡失败",t)}))},startNewPlan:function(){var t=this;uni.showLoading({title:"启动中...",mask:!0});var n={cardNo:t.arrawayPay.creditCardNumber};this.$api.api_startNewPlan(n).then((function(t){if(uni.hideLoading(),a.log("api_startNewPlan成功",t),0==t.code){uni.showToast({title:"启动成功"});setTimeout((function(){uni.reLaunch({url:"/pages/money/repayment"})}),500)}else uni.showToast({title:t.message,icon:"none"});uni.hideLoading()})).catch((function(t){a.log("api_startNewPlan失败",t),uni.hideLoading()}))},planStop:function(){var t=this,n={id:t.planId};this.$api.api_planStop(n).then((function(t){if(a.log("api_planStop成功",t),0==t.code){uni.showToast({title:"终止成功"});setTimeout((function(){uni.navigateBack({})}),500)}})).catch((function(t){a.log("api_planStop失败",t)}))},getMrXyCard:function(){var t=this,n={};this.$api.api_getMrXyCard(n).then((function(n){a.log("获取默认信用卡成功",n.data.idCard),0==n.code&&(t.idCard=n.data.idCard)})).catch((function(t){a.log("api_getMrXyCard失败",t)}))},back:function(){uni.navigateBack()},gochangeplan:function(){uni.navigateTo({url:"changePlan"})},handleGetRegion:function(t){a.log(t),this.area="".concat(t[0].name).concat(t[1].name)},closesendCode:function(){this.modalShow=!this.modalShow},start:function(){uni.navigateTo({url:"changePlan"})}}};t.default=o}).call(this,n("5a52")["default"])},dc0a:function(a,t,n){"use strict";var i;n.d(t,"b",(function(){return e})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-image",{staticClass:"bg-title",attrs:{src:"https://daihuan.oss-cn-beijing.aliyuncs.com/shiming/roleCheck-bg%402x.png"}}),n("v-uni-view",{staticClass:"header-title-common"},[n("p",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.back.apply(void 0,arguments)}}}),n("b",[a._v(a._s(a.headname))])])],1),n("v-uni-view",{staticClass:"main-box"},[n("v-uni-view",{staticClass:"card-part"},[n("v-uni-view",{staticClass:"card-box"},[n("v-uni-image",{staticClass:"card-bg",attrs:{src:"/static/images/card-bg1.png"}}),n("v-uni-image",{staticClass:"logo",attrs:{src:"../../../static/images/banklogo/BANK_"+a.ylhk_card.bankAcronym+".png",mode:"widthFix"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.planStop.apply(void 0,arguments)}}}),n("h1",[n("b",[a._v(a._s(a.ylhk_card.bankName)+"（"+a._s(a.ylhk_card.cardNo.substring(a.ylhk_card.cardNo.length,a.ylhk_card.cardNo.length-4))+"）")]),n("p",[a._v("账单日 每月"+a._s(a.ylhk_card.billDay)+"日丨还款日每月"+a._s(a.ylhk_card.repaymentDay)+"日")])])],1),n("v-uni-view",{staticClass:"card-detail"},[n("p",[a._v("还款总次数："+a._s(a.arrawayPay.taskCount)+"次")]),n("p",[a._v("已还次数："+a._s(a.arrawayPay.completedCount)+"次")]),n("p",[a._v("还款总金额："+a._s(a.arrawayPay.taskAmount)+"元")]),n("p",[a._v("已还金额："+a._s(a.arrawayPay.repaymentedAmount)+"元")]),n("p",[a._v("预计手续费："+a._s(a.arrawayPay.totalServiceCharge)+"元")]),n("p",[a._v("已扣手续费："+a._s(a.arrawayPay.usedServiceCharge)+"元")])])],1),n("ul",[n("li",[n("b",[a._v("时间")]),n("b",[a._v("类型")]),n("b",[a._v("金额")]),n("b",[a._v("状态")])]),a._l(a.arrawayPay.planItems,(function(t,i){return n("li",{key:i,on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.showmall(i)}}},[n("p",[a._v(a._s(t.executeTime))]),1==t.type?n("p",[a._v("消费")]):a._e(),2==t.type?n("p",[a._v("还款")]):a._e(),1==t.type?n("p",[a._v("-"+a._s(t.amount))]):a._e(),2==t.type?n("p",[a._v("+"+a._s(t.amount))]):a._e(),1==t.status?n("p",[a._v("未执行")]):a._e(),2==t.status?n("p",[a._v("执行中")]):a._e(),3==t.status?n("p",{staticStyle:{color:"#4CD964"}},[a._v("已成功")]):a._e(),4==t.status?n("p",{staticStyle:{color:"red"}},[a._v("已失败")]):a._e(),5==t.status?n("p",{staticStyle:{color:"red"}},[a._v("已取消")]):a._e()])}))],2)],1),1==a.pay?n("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.orTureCard.apply(void 0,arguments)}}},[a._v("启动计划")]):n("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.planStop.apply(void 0,arguments)}}},[a._v("终止计划")]),a.modalShow?n("v-uni-view",{staticClass:"modal-box"},[n("v-uni-view",{staticClass:"modal-content"},[n("v-uni-image",{staticClass:"bg",attrs:{src:"/static/images/tanc/bg.png",mode:"widthFix"}}),n("h1",[a._v("输入验证码")]),n("v-uni-view",{staticClass:"confirm-box"},[n("v-uni-image",{staticClass:"modalimage",attrs:{src:"/static/images/tanc/sct.png",mode:"widthFix"}}),n("v-uni-view",[n("v-uni-input",{attrs:{type:"number",maxlength:"6",placeholder:"请输入验证码"},model:{value:a.smsCode,callback:function(t){a.smsCode=t},expression:"smsCode"}}),n("v-uni-view",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.getCode.apply(void 0,arguments)}}},[a._v(a._s(a.codeDesc))])],1),n("h3",[n("p",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.closesendCode()}}},[a._v("取消")]),n("p",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.bindCardConfirm()}}},[a._v("确定")])])],1)],1)],1):a._e(),a.modalShow2?n("v-uni-view",{staticClass:"modal-box",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.modalShow2=!1}}},[n("v-uni-view",{staticClass:"modal-content"},[n("v-uni-image",{staticClass:"bg",attrs:{src:"/static/images/tanc/bg.png",mode:"widthFix"}}),n("h4",[a._v("消费明细")]),n("v-uni-view",{staticClass:"confirm-box",staticStyle:{height:"400upx"}},[n("a",[n("p",{staticStyle:{"margin-top":"40upx"}},[a._v("订单号: "+a._s(a.showm.orderCode))]),n("p",[n("v-uni-view",[a._v("计划金额: "+a._s(a.showm.amount))]),n("v-uni-view")],1),n("p",[1==a.showm.type?n("v-uni-view",[a._v("计划手续费: "+a._s((.008*a.showm.amount).toFixed(2)))]):n("v-uni-view",[a._v("计划手续费: 1")]),n("v-uni-view",[a._v("计划费率: 0.80%")])],1),n("p",[1==a.showm.type?n("v-uni-view",[a._v("计划类型: 消费")]):a._e(),2==a.showm.type?n("v-uni-view",[a._v("计划类型: 还款")]):a._e(),1==a.showm.status?n("v-uni-view",{staticStyle:{color:"#F0AD4E"}},[a._v("状态：未执行")]):a._e(),2==a.showm.status?n("v-uni-view",{staticStyle:{color:"##F0AD4E"}},[a._v("状态：执行中")]):a._e(),3==a.showm.status?n("v-uni-view",{staticStyle:{color:"#4CD964"}},[a._v("状态：已成功")]):a._e(),4==a.showm.status?n("v-uni-view",{staticStyle:{color:"red"}},[a._v("状态：已失败")]):a._e(),5==a.showm.status?n("v-uni-view",{staticStyle:{color:"red"}},[a._v("状态：已取消")]):a._e()],1),1==a.showm.type?n("p",[a._v("计划描述: 消费计划")]):n("p",[a._v("计划描述: 还款计划")]),n("p",[a._v("执行时间: "+a._s(a.showm.executeTime))]),4==a.showm.status?n("p",[a._v("失败原因: "+a._s(a.showm.message))]):a._e()])])],1)],1):a._e()],1)},o=[]},fcf4:function(a,t,n){"use strict";var i=n("7930"),e=n.n(i);e.a}}]);