(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-money-repayment"],{"0284":function(t,e,i){"use strict";i("99af"),i("caad"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"cmd-circle",props:{cid:{type:String,default:"defaultCanvas"},type:{type:String,validator:function(t){return["circle","dashboard"].includes(t)},default:"circle"},percent:{type:Number,validator:function(t){return t>=0&&t<=100},default:0},showInfo:{type:Boolean,default:!0},fontColor:{type:String,default:"#595959"},fontSize:{type:Number,default:14},status:{type:String,validator:function(t){return["normal","success","exception"].includes(t)},default:"normal"},strokeWidth:{type:Number,default:6},strokeColor:{type:String,default:""},strokeBackground:{type:String,default:"#eeeeee"},strokeShape:{type:String,validator:function(t){return["round","square"].includes(t)},default:"round"},width:{type:Number,default:80},gapDegree:{type:Number,validator:function(t){return t>=0&&t<=360},default:360},gapPosition:{type:String,validator:function(t){return["top","bottom","left","right"].includes(t)},default:"top"}},data:function(){return{ctx:{},width2px:""}},computed:{calCircleStyle:function(){return"width: ".concat(this.width,"px;\n\t\t\t\theight: ").concat(this.width,"px;")},calStatus:function(){var t={};switch(this.status){case"normal":t={color:"#1890ff",value:1};break;case"success":t={color:"#52c41a",value:2};break;case"exception":t={color:"#f5222d",value:3};break}return t},calGapDegree:function(){return this.gapDegree<=0?360:this.gapDegree},calGapPosition:function(){var t=0;switch(this.gapPosition){case"bottom":t=90;break;case"left":t=180;break;case"top":t=270;break;case"right":t=360;break}return t}},watch:{percent:function(t){this.drawStroke(t)}},mounted:function(){var t=this;this.ctx=uni.createCanvasContext(this.cid,this),this.width2px=uni.upx2px(this.width),this.$nextTick((function(){t.drawStroke(t.percent)}))},methods:{drawStroke:function(t){t=t>=100?100:t<0?0:t;var e=this.strokeColor||this.calStatus.color;if(this.showInfo)switch(this.calStatus.value){case 1:t>=100?(this.drawSuccess(),t=100,e="#52c41a"):this.drawText(t);break;case 2:this.drawSuccess(),t=100,e="#52c41a";break;case 3:this.drawException(),t=0,e="#f5222d";break;default:break}var i=this.calGapPosition,a=this.calGapDegree;"dashboard"===this.type&&(i=135,a=270),this.ctx.setLineCap(this.strokeShape),this.ctx.setLineWidth(this.strokeWidth),this.ctx.translate(this.width2px,this.width2px),this.ctx.rotate(i*Math.PI/180),this.ctx.beginPath(),this.ctx.arc(0,0,this.width2px-this.strokeWidth,0,a*Math.PI/180),this.ctx.setStrokeStyle(this.strokeBackground),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(0,0,this.width2px-this.strokeWidth,0,t*a*Math.PI/18e3),this.ctx.setStrokeStyle(e),this.ctx.stroke(),this.ctx.draw()},drawText:function(t){this.ctx.beginPath(),this.ctx.setFontSize(this.fontSize),this.ctx.setFillStyle(this.fontColor),this.ctx.setTextAlign("center"),this.ctx.fillText("".concat(t,"%"),this.width2px,this.width2px+this.fontSize/2),this.ctx.stroke()},drawSuccess:function(){var t=this.width2px-this.fontSize/2,e=this.width2px+this.fontSize/2;this.ctx.beginPath(),this.ctx.setLineCap("round"),this.ctx.setLineWidth(this.fontSize/4),this.ctx.moveTo(this.width2px,e),this.ctx.lineTo(e,t),this.ctx.moveTo(this.width2px,e),this.ctx.lineTo(t,this.width2px),this.ctx.setStrokeStyle("#52c41a"),this.ctx.stroke()},drawException:function(){var t=this.width2px-this.fontSize/2,e=this.width2px+this.fontSize/2;this.ctx.beginPath(),this.ctx.setLineCap("round"),this.ctx.setLineWidth(this.fontSize/4),this.ctx.moveTo(t,t),this.ctx.lineTo(e,e),this.ctx.moveTo(e,t),this.ctx.lineTo(t,e),this.ctx.setStrokeStyle("#f5222d"),this.ctx.stroke()}}};e.default=a},"1af4":function(t,e,i){var a=i("d04e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("b8df5e08",a,!0,{sourceMap:!1,shadowMode:!1})},"29d3":function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(i("2bc4"));var n={data:function(){return{heads:[],b:"",creditcardList:[]}},onShow:function(){this.getBalancePlanList(),this.getheadmoney()},methods:{getheadmoney:function(){var e=this,i={};this.$api.api_getBalancePlanListfee(i).then((function(i){if(0==i.code){e.heads=i.data;var a=i.data.settle;t.log("a =",i.data.settle),t.log(.008-1*a);var n=1e4*(.008-1*a);t.log("b=========================",parseInt(n)),0==n?e.b="升级V1即可享受，还款金额万分之8的现金":(n=Math.ceil(n),e.b="每还款一笔，立返当前金额万分之"+n+"的现金")}})).catch((function(t){}))},getBalancePlanList:function(){var e=this,i={};this.$api.api_getBalancePlanList(i).then((function(i){if(t.log("查看所有信用还款计划状态成功",i.data),0==i.code){i.data;e.creditcardList=i.data}})).catch((function(e){t.log("api_getBalancePlanList失败",e)}))},goHistory:function(e,i){uni.setStorageSync("ylhk_card",this.creditcardList[i]),t.log("去历史账单",e),uni.navigateTo({url:"./repayment/historyList?cardNo="+e})},plan:function(t,e){uni.setStorageSync("ylhk_card",this.creditcardList[e]),uni.navigateTo({url:"repayment/drawPlan?id="+t})},showplan:function(t,e){uni.setStorageSync("ylhk_card",this.creditcardList[e]),uni.navigateTo({url:"repayment/newPlan?planId="+this.creditcardList[e].balancePlan.id+"&type=showplan"})},deleteXyCard:function(e){var i=this,a={id:e};this.$api.api_deletexyCard(a).then((function(e){t.log("api_deletexyCard成功",e),0==e.code?i.getxinyongcard():uni.showToast({title:e.message,icon:"none"})})).catch((function(e){t.log("api_deletexyCard失败",e)}))},change:function(t){this.type=t},add:function(){uni.navigateTo({url:"../card/card_add"})},back:function(){uni.navigateBack()}}};e.default=n}).call(this,i("5a52")["default"])},"2bc4":function(t,e,i){"use strict";i.r(e);var a=i("7535"),n=i("488f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("33b2");var c,r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"53ccfa40",null,!1,a["a"],c);e["default"]=s.exports},"2c19":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".cmd-circle[data-v-53ccfa40]{display:inline-block;box-sizing:border-box;list-style:none;margin:0;padding:0}",""]),t.exports=e},"33b2":function(t,e,i){"use strict";var a=i("9edf"),n=i.n(a);n.a},"3ad8":function(t,e,i){t.exports=i.p+"static/img/yl-icon@2x.fdb66445.png"},"488f":function(t,e,i){"use strict";i.r(e);var a=i("0284"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"4e12":function(t,e,i){"use strict";i.r(e);var a=i("5fb4"),n=i("9280");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7e38");var c,r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"eec649c0",null,!1,a["a"],c);e["default"]=s.exports},"5fb4":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"header-title-common"},[a("p",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),a("b",[t._v("余额还款")])])],1),a("v-uni-scroll-view",{staticStyle:{height:"75vh","margin-top":"20upx"},attrs:{"scroll-y":"true"}},[a("ul",t._l(t.creditcardList,(function(e,n){return a("li",{key:n},[a("v-uni-image",{staticClass:"bg",attrs:{src:"/static/images/card-bg1.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"card-top-part"},[a("v-uni-image",{staticClass:"logo-icon",attrs:{src:"../../static/images/banklogo/BANK_"+e.bankAcronym+".png",mode:"widthFix"}}),a("h1",[t._v(t._s(e.bankName)+"("+t._s(e.cardNo.substring(e.cardNo.length,e.cardNo.length-4))+")")]),a("h2",[t._v("账单日 每月"+t._s(e.billDay)+"日丨还款日 每月"+t._s(e.repaymentDay)+"日")]),a("v-uni-image",{staticClass:"logo",attrs:{src:i("3ad8"),mode:"widthFix"}}),a("h3",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goHistory(e.cardNo,n)}}},[t._v("历史账单")])],1),a("v-uni-view",{staticClass:"card-btm-part"},[e.balancePlan?a("p",[t._v("计划执行中，已还款"+t._s(e.balancePlan.repaymentedAmount))]):a("p",[t._v("请及时设置本月还款计划")]),e.balancePlan?a("p",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showplan(e.cardNo,n)}}},[t._v("计划详情")]):a("p",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.plan(e.id,n)}}},[t._v("制定计划")])])],1)})),0)]),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[a("p",[t._v("添加信用卡")])])],1)},o=[]},7535:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cmd-circle"},[i("v-uni-canvas",{style:t.calCircleStyle,attrs:{"canvas-id":t.cid}})],1)},o=[]},"7e38":function(t,e,i){"use strict";var a=i("1af4"),n=i.n(a);n.a},9280:function(t,e,i){"use strict";i.r(e);var a=i("29d3"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"9edf":function(t,e,i){var a=i("2c19");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4b58778e",a,!0,{sourceMap:!1,shadowMode:!1})},d04e:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.bg-title[data-v-eec649c0]{width:100%;height:100%;position:absolute;left:0;top:0;z-index:-1}.header[data-v-eec649c0]{width:100%;position:relative;padding:%?30?%;padding-top:calc(0px + %?30?%);height:%?207?%;background-color:#46c7a9}.header .header-title-common[data-v-eec649c0]{display:flex;align-items:center;width:100%;justify-content:center;position:relative;margin-top:%?58?%}.header .header-title-common b[data-v-eec649c0]{font-size:%?48?%;font-family:PingFang SC;font-weight:700;color:#fff}.header .header-title-common p[data-v-eec649c0]:first-child{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-bottom:%?5?% solid #fff;border-left:%?5?% solid #fff;width:%?20?%;height:%?20?%;position:absolute;left:0}.header .header-title-common p[data-v-eec649c0]:last-child{font-size:%?24?%;font-family:PingFang SC;font-weight:700;color:#f7cf9e;position:absolute;right:0}.tips-part[data-v-eec649c0]{width:%?690?%;background:#fff;box-shadow:0 %?8?% %?22?% %?2?% rgba(67,67,67,.13);border-radius:%?20?%;margin:%?30?% auto;padding:%?30?%;font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#999}.tips-part p[data-v-eec649c0]{margin-top:%?10?%;display:flex;align-items:center}.tips-part p[data-v-eec649c0]::before{content:"";width:%?10?%;height:%?10?%;display:inline-block;margin-right:%?10?%;border-radius:50%;background-color:#f4ca99}li[data-v-eec649c0]{box-sizing:border-box;width:%?690?%;height:%?285?%;position:relative;margin:0 auto;margin-top:%?20?%;padding:0 %?40?%}li .bg[data-v-eec649c0]{width:100%;height:100%;position:absolute;z-index:-1;left:0;top:0}li .card-btm-part[data-v-eec649c0]{display:flex;align-items:center;justify-content:space-between;font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#fff;height:%?85?%}li .card-top-part[data-v-eec649c0]{position:relative;height:%?190?%;width:100%;z-index:4;color:#fff;border-bottom:%?1?% solid #fff}li .card-top-part .del[data-v-eec649c0]{position:absolute;left:%?-20?%;width:%?30?%;top:%?30?%}li .card-top-part .logo[data-v-eec649c0]{width:%?40?%;position:absolute;top:%?20?%;right:0}li .card-top-part h1[data-v-eec649c0]{font-size:%?30?%;font-family:PingFang SC;font-weight:700;position:absolute;left:%?156?%;top:%?50?%}li .card-top-part h2[data-v-eec649c0]{font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#fff;position:absolute;left:%?156?%;top:%?120?%;display:flex;align-items:center}li .card-top-part h2 uni-text[data-v-eec649c0]{display:block;font-size:%?22?%;padding-left:%?30?%}li .card-top-part h3[data-v-eec649c0]{position:absolute;top:%?50?%;font-size:%?20?%;font-family:PingFang SC;font-weight:500;color:#fff;right:%?-10?%;border:%?1?% solid #fff;padding:%?3?% %?10?%;font-size:%?20?%;border-radius:%?6?%}li .card-top-part .logo-icon[data-v-eec649c0]{width:%?55?%;height:%?55?%;position:absolute;top:%?50?%;left:%?50?%}.btn[data-v-eec649c0]{height:%?86?%;background-color:#46c7a9;display:flex;align-items:center;justify-content:center;font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#fff;position:fixed;bottom:var(--window-bottom);width:100%;left:0}.btn uni-image[data-v-eec649c0]{margin-right:%?20?%;width:%?30?%;height:%?30?%}',""]),t.exports=e}}]);