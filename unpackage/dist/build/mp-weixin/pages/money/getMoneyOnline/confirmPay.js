(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/money/getMoneyOnline/confirmPay"],{4504:function(e,t,a){"use strict";a.r(t);var n=a("f721"),o=a("5f30");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("8d05");var r,c=a("f0c5"),d=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=d.exports},"5f30":function(e,t,a){"use strict";a.r(t);var n=a("c2ab"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"8d05":function(e,t,a){"use strict";var n=a("faff"),o=a.n(n);o.a},ba2d:function(e,t,a){"use strict";(function(e){a("3335");n(a("66fd"));var t=n(a("4504"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},c2ab:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{shownamestatus:"",bankCard:"",bankPhone:"",securityCode:"",expiredTime:"",userName:"",idCard:"",bankName:"",id:"",s:"",codes:"",payStatus:"交易中",modalShow:!1,provinces:"请选择省份",market:"请选择市",cityCode:"",arrayProvinces:[{id:11e4,level:1,name:"北京",parent:1e5}],arrayMarket:[{id:"id",parent:"parent",name:"温州市",level:"level"}],validateCode:"",codeDesc:"获取验证码",preventClickCode:!1,area:"请选择地区",needCity:!1,needCode:!1,orderCode:"",showmoney:"",cxCard:""}},onShow:function(){var t=e.getStorageSync("xyCard");this.bankCard=t.cardNo,this.bankPhone=t.phone,this.securityCode=t.securityCode,this.expiredTime=t.expiredTime,this.userName=t.fullname,this.idCard=t.idCard,this.bankName=t.bankName,this.getProvinces(),this.getMrCxCard()},onLoad:function(t){this.id=t.id,this.needCity=t.needCity,this.needCode=t.needCode,this.showmoney=e.getStorageSync("amount")},methods:{getalLfastQuery:function(t,a){var n=this,o={channelId:n.id,orderCode:n.orderCode};this.$api.api_getalLfastQuery(o).then((function(e){console.log("获取交易状态成功",e),0==e.code&&(n.s=e.data.code)})).catch((function(t){console.log("api_getProvinces失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},getProvinces:function(){var t=this,a={id:t.id};this.$api.api_getProvinces(a).then((function(e){console.log("api_getProvinces成功",e),0==e.code&&(t.arrayProvinces=e.data)})).catch((function(t){console.log("api_getProvinces失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},bindProvincesChange:function(e){this.provinces=this.arrayProvinces[e.detail.value].name,this.parent=this.arrayProvinces[e.detail.value].id,this.getMarket()},getMarket:function(){var t=this;console.log("parent=",t.parent),console.log("id=",t.id);var a={parent:t.parent,channelId:t.id};this.$api.api_getMarket(a).then((function(e){console.log("api_getMarket成功",e),0==e.code&&(t.arrayMarket=e.data)})).catch((function(t){console.log("api_getMarket失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},bindMarketChange:function(e){this.market=this.arrayMarket[e.detail.value].name,console.log("market=====id=",this.arrayMarket[e.detail.value].id),console.log("market====parent==",this.arrayMarket[e.detail.value].parent),this.cityCode=this.arrayMarket[e.detail.value].parent,this.provinceCode=this.arrayMarket[e.detail.value].id},getMrCxCard:function(){var t=this,a={};this.$api.api_getMrCxCard(a).then((function(e){console.log("api_getMrCxCard成功",e),0==e.code&&(t.cxCard=e.data,console.log("res.data ---------",e.data))})).catch((function(t){console.log("api_getMrCxCard失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},fastApply:function(){var t=this;if(e.showLoading({title:"发送中...",mask:!0}),!t.preventClickCode){t.preventClickCode=!0;var a={channelId:t.id,amount:e.getStorageSync("amount"),loginPhone:e.getStorageSync("users").username,bankName:t.bankName,bankCard:t.bankCard,bankPhone:t.bankPhone,securityCode:t.securityCode,expiredTime:t.expiredTime,userName:t.userName,idCard:t.idCard,cityCode:t.provinceCode,provinceCode:t.cityCode,debitBankName:t.cxCard.bankName,debitBankCard:t.cxCard.cardNo,debitPhone:t.cxCard.phone};this.$api.api_fastApply(a).then((function(a){if(e.hideLoading(),console.log("api_fastApply成功",a),0==a.code){t.orderCode=a.data,e.showToast({title:"验证码已经发送"});var n=60,o=setInterval((function(){n>0?(n--,t.codeDesc="".concat(n,"s")):(t.codeDesc="获取验证码",t.preventClickCode=!1,clearInterval(o))}),1e3)}else e.showToast({title:a.message,icon:"none"})})).catch((function(t){console.log("api_fastApply失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))}},getstats:function(){var t=this,a={channelId:t.id,orderCode:t.orderCode};this.$api.api_showtureApply(a).then((function(e){console.log("api_tureApply成功",e),0==e.code?t.shownamestatus="交易成功":1==e.code?t.shownamestatus="交易失败":t.shownamestatus="处理中",t.modalShow=!0})).catch((function(t){console.log("api_tureApply失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},tureApply:function(){var t=this,a={orderCode:t.orderCode,channelId:t.id,idCard:t.idCard,smsCode:t.codes};this.$api.api_tureApply(a).then((function(e){console.log("api_tureApply成功",e),0==e.code&&t.getstats()})).catch((function(t){console.log("api_tureApply失败",t),e.showToast({title:"网络链接失败",icon:"none"})}))},back:function(){e.navigateBack()},showpayloading:function(){this.modalShow=!0,this.payStatus="交易中"},goIndex:function(){console.log("点击跳转"),e.reLaunch({url:"/pages/money/getMoneyOnline"})},sendcode:function(){var e=this;e.fastApply()}}};t.default=a}).call(this,a("543d")["default"])},f721:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},faff:function(e,t,a){}},[["ba2d","common/runtime","common/vendor"]]]);